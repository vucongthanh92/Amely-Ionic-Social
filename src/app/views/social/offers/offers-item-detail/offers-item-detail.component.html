<ion-header>
  <ion-navbar  swipeBackEnabled="true">
    <ion-title>Chi tiết trao đổi</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="outer-content" *ngIf="offer">
  <ion-card>
    <ion-card-header>
      Chủ trao đổi
      <strong style="float: right" *ngIf="offer.seconds">
        <app-timer #countdownTimer [timeInSeconds]="offer.seconds"></app-timer>
      </strong>
    </ion-card-header>
    <ion-item *ngIf="offer.owner">
      <ion-avatar item-start>
        <img [src]="offer.owner.avatar">
      </ion-avatar>
      <h2>
        {{ offer.owner.username }}
        <span *ngIf="offer.target == 'public'" style="float: right; color: #488aff">
          <ion-icon name="globe"></ion-icon> Xung quanh</span>
        <span *ngIf="offer.target == 'friends'" style="float: right; color: #488aff">
          <ion-icon name="people"></ion-icon> Bạn bè</span>
        <span *ngIf="offer.target == 'location'" style="float: right; color: #488aff">
          <ion-icon name="locate"></ion-icon> Vị trí</span>
      </h2>
      <button *ngIf="!is_counter" type="button" name="button" (click)="chosenItem(offer)" ion-button>Tham gia trao đổi</button>
    </ion-item>
    <ion-row>
      <ion-col col-12>
        <img width="100%" [src]="offer.product_snapshot.images[0]">
      </ion-col>
      <ion-col col-12>
        <ion-card-content>
          <h3>
            <strong>{{ offer.product_snapshot.title }}</strong>
          </h3>
          <p>Số lượng : {{ offer.quantity }}</p>
        </ion-card-content>
      </ion-col>
      <ion-col col-12>
          <p>Thông tin sản phẩm</p>
          <p>{{ offer.product_snapshot.description }}</p>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        
      </ion-col>
      <ion-col>
        
      </ion-col>
      <ion-col center text-center>
        <ion-note>
          
        </ion-note>
      </ion-col>
    </ion-row>
  </ion-card>
  <ion-card *ngIf="counter">
    <ion-card-header>
      Người trao đổi
    </ion-card-header>
    <ion-item *ngIf="counter.owner">
      <ion-avatar item-start>
        <img [src]="counter.owner.avatar">
      </ion-avatar>
      <h2>{{ counter.owner.username }}</h2>
    </ion-item>
    <ion-row *ngIf="counter.product_snapshot">
      <ion-col col-12>
        <img width="100%" [src]="counter.product_snapshot.images[0]">
      </ion-col>
      <ion-col col-12>
        <ion-card-content>
          <h3>
            <strong>{{ counter.product_snapshot.title }}</strong>
          </h3>
          <p>Số lượng : {{ counter.quantity }}</p>
        </ion-card-content>
      </ion-col>
      <ion-col col-12>
        <p>Thông tin sản phẩm</p>
        <p>{{ counter.product_snapshot.description }}</p>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
  
      </ion-col>
      <ion-col>
  
      </ion-col>
      <ion-col center text-center>
        <ion-note>
  
        </ion-note>
      </ion-col>
    </ion-row>
  </ion-card>
</ion-content>
<div *ngIf="offer">
  <ion-footer *ngIf="offer.owner.username == customService.user_current.username">
    <button type="button" name="button" (click)="changePage(offer)" ion-button full no-margin>Xem danh sách tham gia</button>
  </ion-footer>
</div>